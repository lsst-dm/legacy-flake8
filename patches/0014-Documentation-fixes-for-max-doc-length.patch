From 75e38bdab3f383a6e71da7ac33a7f0dcc684f99d Mon Sep 17 00:00:00 2001
From: Brian Van Klaveren <bvan@slac.stanford.edu>
Date: Thu, 18 Oct 2018 14:36:43 -0700
Subject: [PATCH 14/14] Documentation fixes for max-doc-length

---
 .../source/internal/writing-documentation.rst |  7 ++++
 docs/source/manpage.rst                       |  2 ++
 .../plugin-development/plugin-parameters.rst  |  1 +
 docs/source/user/options.rst                  | 32 +++++++++++++++++++
 4 files changed, 42 insertions(+)

diff --git a/docs/source/internal/writing-documentation.rst b/docs/source/internal/writing-documentation.rst
index ee37517..8c3cb19 100644
--- a/docs/source/internal/writing-documentation.rst
+++ b/docs/source/internal/writing-documentation.rst
@@ -70,6 +70,13 @@ We use a maximum line-length in our documentation that is similar to the
 default in |Flake8|. Please wrap lines at 79 characters (or less).
 
 
+Wrap doc lines around 72 characters
+===================================
+
+We use a maximum doc-length in our documentation that is stricter than the
+default in |Flake8|. Please wrap lines at 72 characters (or less).
+
+
 Use two new-lines before new sections
 =====================================
 
diff --git a/docs/source/manpage.rst b/docs/source/manpage.rst
index 9c002b9..8495306 100644
--- a/docs/source/manpage.rst
+++ b/docs/source/manpage.rst
@@ -59,6 +59,8 @@ All options available as of Flake8 3.1.0::
                           (Default: E121,E123,E126,E226,E24,E704,W503,W504)
     --max-line-length=n   Maximum allowed line length for the entirety of this
                           run. (Default: 79)
+    --max-doc-length=n    Maximum allowed doc line length for the entirety of
+                          this run.
     --select=errors       Comma-separated list of errors and warnings to enable.
                           For example, ``--select=E4,E51,W234``. (Default:
                           E,F,W,C90)
diff --git a/docs/source/plugin-development/plugin-parameters.rst b/docs/source/plugin-development/plugin-parameters.rst
index d387a65..e72ac6c 100644
--- a/docs/source/plugin-development/plugin-parameters.rst
+++ b/docs/source/plugin-development/plugin-parameters.rst
@@ -48,6 +48,7 @@ the data instead of being called on each physical or logical line.
 - :attr:`~flake8.processor.FileProcessor.file_tokens`
 - :attr:`~flake8.processor.FileProcessor.lines`
 - :attr:`~flake8.processor.FileProcessor.max_line_length`
+- :attr:`~flake8.processor.FileProcessor.max_doc_length`
 - :attr:`~flake8.processor.FileProcessor.total_lines`
 - :attr:`~flake8.processor.FileProcessor.verbose`
 
diff --git a/docs/source/user/options.rst b/docs/source/user/options.rst
index 00164ae..9203a6b 100644
--- a/docs/source/user/options.rst
+++ b/docs/source/user/options.rst
@@ -62,6 +62,8 @@ Index of Options
 
 - :option:`flake8 --max-line-length`
 
+- :option:`flake8 --max-doc-length`
+
 - :option:`flake8 --select`
 
 - :option:`flake8 --disable-noqa`
@@ -521,6 +523,36 @@ Options and their Descriptions
         max-line-length = 79
 
 
+.. option:: --max-doc-length=<n>
+
+    :ref:`Go back to index <top>`
+
+    Set the maximum doc length that any line (with some exceptions) may be.
+
+    Exceptions include lines that are either strings or comments which are
+    entirely URLs. For example:
+
+    .. code-block:: python
+
+        # https://some-super-long-domain-name.com/with/some/very/long/path
+
+    This defaults to off. If you set a number, it will be turned on.
+
+    Command-line example:
+
+    .. prompt:: bash
+
+        flake8 --max-doc-length 72 dir/
+
+    This **can** be specified in config files.
+
+    Example config file usage:
+
+    .. code-block:: ini
+
+        max-doc-length = 72
+
+
 .. option:: --select=<errors>
 
     :ref:`Go back to index <top>`
-- 
2.17.2 (Apple Git-113)

