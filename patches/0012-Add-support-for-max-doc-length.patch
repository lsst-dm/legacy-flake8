From 1c406582566ded18a2bdc491a6adf2ca8cdb0e57 Mon Sep 17 00:00:00 2001
From: Brian Van Klaveren <bvan@slac.stanford.edu>
Date: Thu, 18 Oct 2018 14:17:45 -0700
Subject: [PATCH 12/13] Add support for max-doc-length

---
 setup.py                   | 1 +
 src/flake8/main/options.py | 7 +++++++
 src/flake8/processor.py    | 3 +++
 3 files changed, 11 insertions(+)

diff --git a/setup.py b/setup.py
index 24e8996..ac7745e 100644
--- a/setup.py
+++ b/setup.py
@@ -92,6 +92,7 @@ setuptools.setup(
             PEP8_PLUGIN('trailing_whitespace'),
             PEP8_PLUGIN('trailing_blank_lines'),
             PEP8_PLUGIN('maximum_line_length'),
+            PEP8_PLUGIN('maximum_doc_length'),
             PEP8_PLUGIN('blank_lines'),
             PEP8_PLUGIN('extraneous_whitespace'),
             PEP8_PLUGIN('whitespace_around_keywords'),
diff --git a/src/flake8/main/options.py b/src/flake8/main/options.py
index 2aabab8..8d425d5 100644
--- a/src/flake8/main/options.py
+++ b/src/flake8/main/options.py
@@ -22,6 +22,7 @@ def register_default_options(option_manager):
     - ``--extend-ignore``
     - ``--per-file-ignores``
     - ``--max-line-length``
+    - ``--max-doc-length``
     - ``--select``
     - ``--disable-noqa``
     - ``--show-source``
@@ -166,6 +167,12 @@ def register_default_options(option_manager):
         "(Default: %default)",
     )
 
+    add_option(
+        '--max-doc-length', type='int', metavar='n',
+        default=None, parse_from_config=True,
+        help='Maximum allowed doc line length for the entirety of this run.'
+    )
+
     add_option(
         "--select",
         metavar="errors",
diff --git a/src/flake8/processor.py b/src/flake8/processor.py
index 18f9f1d..b7f4976 100644
--- a/src/flake8/processor.py
+++ b/src/flake8/processor.py
@@ -37,6 +37,7 @@ class FileProcessor(object):
     - :attr:`line_number`
     - :attr:`logical_line`
     - :attr:`max_line_length`
+    - :attr:`max_doc_length`
     - :attr:`multiline`
     - :attr:`noqa`
     - :attr:`previous_indent_level`
@@ -82,6 +83,8 @@ class FileProcessor(object):
         self.logical_line = ""
         #: Maximum line length as configured by the user
         self.max_line_length = options.max_line_length
+        #: Maximum doc line length as configured by the user
+        self.max_doc_length = options.max_doc_length
         #: Whether the current physical line is multiline
         self.multiline = False
         #: Whether or not we're observing NoQA
-- 
2.17.2 (Apple Git-113)

